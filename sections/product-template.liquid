<div class="product-page">
  <div class="product-media-gallery">
    {% for media in product.media limit: 5 %}
      <div class="product-media-item">
        {% case media.media_type %}
          {% when 'image' %}
            {{ media | image_url: width: 500 | image_tag: alt: media.alt }}
          {% when 'external_video' %}
            {{ media | external_video_tag }}
          {% when 'video' %}
            {{ media | video_tag: controls: true }}
          {% when 'model' %}
            {{ media | model_viewer_tag }}
        {% endcase %}
      </div>
    {% endfor %}
  </div>

  <div class="product-form">
    <h1 class="product-title">{{ product.title }}</h1>
    
    <div class="product-price">
      <span class="price">{{ product.price | money }}</span>
      {% if product.compare_at_price > product.price %}
        <span class="compare-price">{{ product.compare_at_price | money }}</span>
      {% endif %}
    </div>

    {% if product.description != blank %}
      <div class="product-description">
        {{ product.description }}
      </div>
    {% endif %}

    <product-form class="product-form">
      {%- assign product_form_installment_id = 'product-form-installment-' | append: section.id -%}

      <div class="product-form__buttons">
        <button
          type="submit"
          name="add"
          class="product-form__cart-submit button button--full-width button--primary"
          {% if product.selected_or_first_available_variant.available == false %}disabled{% endif %}
        >
          <span>
            {%- if product.selected_or_first_available_variant.available -%}
              Add to cart
            {%- else -%}
              Sold out
            {%- endif -%}
          </span>
        </button>
      </div>
    </product-form>
  </div>
</div>

{% schema %}
{
  "name": "Product Template",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Product Information"
    }
  ]
}
{% endschema %}